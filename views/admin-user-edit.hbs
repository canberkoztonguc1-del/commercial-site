<h1 class="page-title">Admin - Edit User</h1>

<form action="/admin/users/{{user.id}}/edit" method="post" class="card" style="max-width:520px;">
  {{#if error}}
    <div class="alert" style="margin-bottom:12px;">{{error}}</div>
  {{/if}}

  <div class="form-row">
    <label for="username">Username</label>
    <input id="username" name="username" type="text" required value="{{user.username}}">
  </div>

  <div class="form-row">
    <label for="role">Role</label>
    <select id="role" name="role" required>
      {{#each roles}}
        <option value="{{this}}" {{#if (eq ../user.role this)}}selected{{/if}}>{{this}}</option>
      {{/each}}
    </select>
  </div>

  <div class="form-row">
    <label for="new_password">New password (optional)</label>
    <input id="new_password" name="new_password" type="password" minlength="6" placeholder="leave blank to keep current password">
  </div>

  <div class="form-actions">
    <button type="submit" class="pill">Save changes</button>
    <a href="/admin/users" class="pill">Cancel</a>
  </div>
</form>
